<body>
<script type='text/javascript'>
	function initEmbeddedMessaging() {
		const currentUser = {
		    firstName: 'Dynamic',
		    lastName: 'User',
		    email: 'dynamic.user@example.com',
		    userId: 'USER12345'
		};
		
		try {
			embeddedservice_bootstrap.settings.language = 'en_US';

			window.addEventListener("onEmbeddedMessagingReady", () => {
				embeddedservice_bootstrap.prechatAPI.setVisiblePrechatFields({
				    "First_Name": {
				        "value": currentUser.firstName,
				        "isEditableByEndUser": true
				    },
				    "Last_Name": {
				        "value": currentUser.lastName,
				        "isEditableByEndUser": true
				    },
				    "Email": {
				        "value": currentUser.email,
				        "isEditableByEndUser": true
				    }
				});
				
				embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields({
				    "UserID": currentUser.userId
				});
			});
			
			embeddedservice_bootstrap.init(
				'00D60000000Jeku',
				'Mednet_Agent_Deployment',
				'https://mednet.my.site.com/ESWMednetAgentDeploymen1749088673821',
				{
					scrt2URL: 'https://mednet.my.salesforce-scrt.com'
				}
			);
		} catch (err) {
			console.error('Error loading Embedded Messaging: ', err);
		}
	};
</script>
<script type='text/javascript' src='https://mednet.my.site.com/ESWMednetAgentDeploymen1749088673821/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>
</body>
